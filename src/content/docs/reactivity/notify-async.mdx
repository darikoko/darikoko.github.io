---
title: "@notify_async"
description: A guide in my new Starlight docs site.
---

import pythonCode from '/public/examples/notify-async/example1.py?raw';
import HTMLCode from '/public/examples/notify-async/example1.html?raw';

import { Aside } from '@astrojs/starlight/components';
import { Code } from '@astrojs/starlight/components'

<script type="module" src="https://pyscript.net/releases/2024.11.1/core.js"></script>
<script type="mpy" src="/public/examples/notify-async/example1.py" config="/public/examples/pyscript.json"></script>

Sometimes you need async function, to fetch data for example.

To update the DOM after an async function, just decorate it with `@notify_async`.

<Code code={pythonCode} lang="py" title="demo.py" />
<Aside type="caution">
You have to add `await` before your method call in the html otherwise it wont works.
</Aside>
<Code code={HTMLCode} lang="html" title="index.html" mark={['await']} />
<div class="result" set:html={HTMLCode}></div>